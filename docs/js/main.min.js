enable_width_control(),enable_widget_fold_control();function enable_width_control(){let a=document.getElementsByClassName("width-control");for(let b of a){let c=b.parentElement;b.onmousehover,b.onmousedown=function(e){let[f,g]=[e.clientX,c.offsetWidth],a=parseInt(c.style.minWidth)||160,d=parseInt(c.style.maxWidth)||640,h=b.style.backgroundColor;b.style.backgroundColor=window.getComputedStyle(b,":hover").backgroundColor,document.documentElement.style.userSelect='none',document.onmousemove=function(e){let h=e.clientX,b=h-f+g;b>d?b=d:b<a&&(b=a),c.style.width=b+'px'},document.onmouseup=function(){b.style.backgroundColor=h,document.documentElement.style.userSelect='auto',document.onmousemove=null,document.onmouseup=null}}}}function enable_widget_fold_control(){let a=document.getElementsByClassName("widget-fold-control");for(let d of a){let e=d.parentElement,b=e.nextElementSibling,c=b.clientHeight,f=b.clientWidth;b.style.height=c+'px',e.onclick=function(a){b.style.height==='0px'?(d.style.transform='rotate(0deg)',b.style.height=c+'px'):(d.style.transform='rotate(-90deg)',c=b.clientHeight,b.style.height='0px')},new ResizeObserver(a=>{if(a[0].contentRect.width!==f&&b.style.height!=='0px'){if(b.style.height='',b.clientHeight===0){b.style.height=c+'px';return}c=b.clientHeight,b.style.height=c+'px',f=a[0].contentRect.width}}).observe(b)}}enable_dark_toggle(),enable_layout_toggle();function enable_dark_toggle(){let a=document.getElementById("toggler-dark"),b=localStorage.getItem('hero-dark');b==='true'&&!document.documentElement.classList.contains('dark')?(document.documentElement.classList.toggle('dark'),a.firstElementChild.classList.toggle('icon-Daytimemode-fill'),a.firstElementChild.classList.toggle('icon-Daytimemode')):b===null&&localStorage.setItem('hero-dark','false'),a.onclick=function(b){document.documentElement.classList.toggle('dark'),a.firstElementChild.classList.toggle('icon-Daytimemode-fill'),a.firstElementChild.classList.toggle('icon-Daytimemode'),localStorage.getItem('hero-dark')==='true'?localStorage.setItem('hero-dark','false'):localStorage.setItem('hero-dark','true')}}function enable_layout_toggle(){let b=document.getElementById("toggler-layout"),a=localStorage.getItem('hero-layout');a==='reading'&&!document.documentElement.classList.contains('layout-reading')?document.documentElement.classList.toggle('layout-reading'):a===null&&localStorage.setItem('hero-layout','default'),b.onclick=function(a){document.documentElement.classList.toggle('layout-reading'),localStorage.getItem('hero-layout')==='reading'?localStorage.setItem('hero-layout','default'):localStorage.setItem('hero-layout','reading')}}enable_search();var fuse=null;function enable_search(){let a=document.getElementById("search-input"),b=document.getElementById("search-result"),d=document.getElementById("search-result-mask"),e=document.getElementById("search-result-content"),c=null;loadSearch(),d.onclick=function(a){b.classList.remove("active")},a.onfocus=function(a){b.classList.add("active")},a.onkeyup=function(b){if(!b.isComposing&&b.key==="Enter"){let b=a.value.trim();c!==b&&(executeSearch(b,e),c=b)}}}function executeSearch(b,c){let a='';if(fuse===null)a='<span>搜索工具暂不可用，请稍后重试。</span>';else{let c=fuse.search(b);if(c.length===0)a='<span>无匹配结果</span>';else for(let e in c.slice(0,7)){let b=c[e].item,d='';for(let a in b.tags)d=d+`<span class="entry-tag">${b.tags[a]}</span>`;a=a+`
                <div class='result-entry flex-single-col'>
                    <a href="${b.permalink}" class="entry-title">${b.title}</a>
                    <span class="entry-summary">${b.summary}</span>
                    <span class="entry-tags">
                        ${d}
                    </span>
                </div>
                `}}c.innerHTML=a}function loadSearch(){fetchJSONFile('/index.json',function(a){var b={shouldSort:!0,location:0,distance:100,threshold:.25,minMatchCharLength:1,keys:['title','summary']};fuse=new Fuse(a,b)})}function fetchJSONFile(c,b){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===4)if(a.status===200){var c=JSON.parse(a.responseText);b&&b(c)}},a.open('GET',c),a.send()}